{"version":3,"file":"cjs.js","sources":["../sets/warnings.js","../utils/listeners.js","../utils/frameworks.js","../index.js"],"sourcesContent":["/**\r\n * @overview Console warnings\r\n */\r\nconst initial = \"extended-click-outside:\";\r\nexport const alreadyHasListener = `${initial} element already has extended click outside listener`;\r\nexport const invalidElement = `${initial} element must be a valid HTMLElement`;\r\nexport const invalidListener = `${initial} listener must be a function`;\r\nexport const missingElement = `${initial} element has no click outside listener`;\r\nexport const outsideDocument = `${initial} can not run outside a document`;","/**\r\n * Determines whether given element is inside\r\n * root ExtendedClickOutside instance element\r\n * @function\r\n * @param {HTMLElement} element - ExtendedClickOutside root element\r\n * @param {HTMLElement} target - target of \"click/touchstart\" event\r\n * @returns {boolean} location\r\n */\r\nconst isParentElement = (element, target) => {\r\n  let currentTarget = target.parentNode;\r\n\r\n  while (currentTarget) {\r\n    if (currentTarget === element) return true;\r\n    if (\r\n      currentTarget === document.documentElement \r\n      || !currentTarget\r\n    ) return false;\r\n\r\n    currentTarget = currentTarget.parentNode;\r\n  }\r\n};\r\n\r\n/**\r\n * Determines whether to block ExtendedClickOutside\r\n * listener by special keys combination\r\n * @function\r\n * @param {MouseEvent} event - MouseEvent instance\r\n * @param {Array} blockKeys - list of keys\r\n * @returns {boolean} restriction\r\n */\r\nconst blockByKeys = (event, blockKeys) => {\r\n  switch(true) {\r\n    case !blockKeys || !blockKeys.length:\r\n      return false;\r\n    case event.altKey && blockKeys.includes(\"alt\"):\r\n      return true;\r\n    case event.ctrlKey && blockKeys.includes(\"ctrl\"):\r\n      return true;\r\n    case event.shiftKey && blockKeys.includes(\"shift\"):\r\n      return true;\r\n    default: return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Sets reusable ExtendedClickOutside listener\r\n * @function\r\n * @param {HTMLElement} element - ExtendedClickOutside root element\r\n * @param {Function} listener - ExtendedClickOutside listener\r\n * @param {boolean} capture - event \"capture\" flag\r\n * @param {boolean} selfOnly - only current element flag\r\n * @param {Array} blockKeys - list of keys\r\n * @param {string} eventName - type of event\r\n * @returns {Function} handler\r\n */\r\nexport const setListener = (\r\n  element,\r\n  listener,\r\n  capture,\r\n  selfOnly,\r\n  blockKeys,\r\n  eventName,\r\n) => {\r\n  const handler = (event) => {\r\n    const target = event.target;\r\n\r\n    if (target === element) return;\r\n    if (!selfOnly && isParentElement(element, target)) return;\r\n    if (blockByKeys(event, blockKeys)) return;\r\n\r\n    listener();\r\n  };\r\n\r\n  document.documentElement.addEventListener(eventName, handler, capture ?? false);\r\n\r\n  return handler;\r\n};\r\n\r\n/**\r\n * Sets disposable ExtendedClickOutside listener\r\n * @function\r\n * @param {HTMLElement} element - ExtendedClickOutside root element\r\n * @param {Function} listener - ExtendedClickOutside listener\r\n * @param {boolean} capture - event \"capture\" flag\r\n * @param {boolean} selfOnly - only current element flag\r\n * @param {Array} blockKeys - list of keys\r\n * @param {string} eventName - type of event\r\n * @returns {Function} handler\r\n */\r\nexport const setListenerOnce = (\r\n  element,\r\n  listener,\r\n  capture,\r\n  selfOnly,\r\n  blockKeys,\r\n  eventName,\r\n) => {\r\n  const handler = (event) => {\r\n    const target = event.target;\r\n\r\n    if (target === element) return;\r\n    if (!selfOnly && isParentElement(element, target)) return;\r\n    if (blockByKeys(event, blockKeys)) return;\r\n\r\n    listener();\r\n    document.documentElement.removeEventListener(eventName, handler);\r\n  };\r\n\r\n  document.documentElement.addEventListener(eventName, handler, capture ?? false);\r\n\r\n  return handler;\r\n};","/**\r\n * Extracts element from Angular refs\r\n * @function\r\n * @param {Object} element - Angular ref\r\n * @returns {HTMLElement|null} - element\r\n */\r\nconst angularHandler = (element) => {\r\n  if (element.nativeElement) return element.nativeElement;\r\n  if (element.elementRef && element.elementRef.nativeElement) {\r\n    return element.nativeElement;\r\n  }\r\n  if (element.element && element.element.nativeElement) {\r\n    return element.element.nativeElement;\r\n  }\r\n\r\n  return null\r\n}\r\n\r\n/**\r\n * Extracts element from JQuery selectors\r\n * @function\r\n * @param {Object} element - JQuery selector\r\n * @returns {HTMLElement|null} - element\r\n */\r\nconst jQueryHandler = (element) => {\r\n  if (element[0]) return element[0];\r\n\r\n  return null;\r\n}\r\n\r\n/**\r\n * Extracts element from React refs\r\n * @function\r\n * @param {Object} element - React ref\r\n * @returns {HTMLElement|null} - element\r\n */\r\nconst reactHandler = (element) => {\r\n  if (element.current) return element.current;\r\n\r\n  return null;\r\n}\r\n\r\n/**\r\n * Extracts element from Vue refs\r\n * @function\r\n * @param {Object} element - Vue ref\r\n * @returns {HTMLElement|null} - element\r\n */\r\nconst vueHandler = (element) => {\r\n  if (element.$el) return element.$el;\r\n\r\n  return null;\r\n}\r\n\r\n/**\r\n * Tries to extract element using all handlers\r\n * @function\r\n * @param {Object} element - any ref\r\n * @returns {HTMLElement|null} - element\r\n */\r\nexport default (element) => {\r\n  let elementFromHandler;\r\n  const handlers = [\r\n    angularHandler,\r\n    jQueryHandler,\r\n    reactHandler,\r\n    vueHandler,\r\n  ];\r\n\r\n  for (let counter = 0; counter < handlers.length; counter++) {\r\n    elementFromHandler = handlers[counter](element);\r\n\r\n    if (elementFromHandler) return elementFromHandler;\r\n  }\r\n  \r\n  return null;\r\n}","import {\r\n  alreadyHasListener,\r\n  invalidElement,\r\n  invalidListener,\r\n  missingElement,\r\n  outsideDocument,\r\n} from \"./sets/warnings\";\r\n\r\nimport { \r\n  setListener,\r\n  setListenerOnce,\r\n} from \"./utils/listeners\";\r\n\r\nimport frameworks from \"./utils/frameworks\";\r\n\r\n/**\r\n * ExtendedClickOutside instance constructor\r\n * @author Ridiger Daniil Dmitrievich, 2023\r\n * @class\r\n * @version 0.0.2\r\n */\r\nexport default class ExtendedClickOutside {\r\n\r\n  _clickName = !document.ontouchstart ? \"click\" : \"touchstart\";\r\n  _outsideListeners = new Map();\r\n\r\n  /**\r\n   * Initializes ExtendedClickOutside listener\r\n   * @method\r\n   * @param {HTMLElement} element - ExtendedClickOutside root element\r\n   * @param {Function} listener - ExtendedClickOutside listener\r\n   * @param {Object} config - configuration\r\n   */\r\n  init(element, listener, config = {}) {\r\n    let handler;\r\n    const blockKeys = config.blockKeys;\r\n    const capture = config.capture;\r\n    const once = config.once;\r\n    const selfOnly = config.selfOnly;\r\n    const useWarnings = config.useWarnings;\r\n    \r\n    if (!element || typeof element !== \"object\") {\r\n      useWarnings && console.warn(invalidElement);\r\n      return;\r\n    }\r\n\r\n    if (!listener || typeof listener !== \"function\") {\r\n      useWarnings && console.warn(invalidListener);\r\n      return;\r\n    }\r\n\r\n    if (!window || !document || !document.documentElement) {\r\n      useWarnings && console.warn(outsideDocument);\r\n      return;\r\n    }\r\n\r\n    if (this._outsideListeners.has(element)) {\r\n      useWarnings && console.warn(alreadyHasListener);\r\n      return;\r\n    }\r\n\r\n    if (!(element instanceof HTMLElement)) {\r\n      element = frameworks(element);\r\n      if (!element) {\r\n        useWarnings && console.warn(invalidElement);\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (once) {\r\n      handler = setListenerOnce(\r\n        element,\r\n        listener,\r\n        capture,\r\n        selfOnly,\r\n        blockKeys,\r\n        this._clickName,\r\n      );\r\n    } else {\r\n      handler = setListener(\r\n        element,\r\n        listener,\r\n        capture,\r\n        selfOnly,\r\n        blockKeys,\r\n        this._clickName,\r\n      );\r\n    }\r\n\r\n    this._outsideListeners.set(element, handler);\r\n  }\r\n\r\n  /**\r\n   * Removes ExtendedClickOutside listener\r\n   * @method\r\n   * @param {HTMLElement} element - ExtendedClickOutside root element\r\n   * @param {boolean} useWarnings - console warnings flag\r\n   */\r\n  remove(element, useWarnings = false) {\r\n    if (!this._outsideListeners.has(element)) {\r\n      useWarnings && console.warn(missingElement);\r\n      return;\r\n    }\r\n\r\n    const handler = this._outsideListeners.get(element);\r\n\r\n    document.documentElement.removeEventListener(\"click\", handler);\r\n\r\n    this._outsideListeners.delete(element);\r\n  }\r\n\r\n  /**\r\n   * Removes all ExtendedClickOutside listeners\r\n   * @method\r\n   */\r\n  removeAllListeners() {\r\n    for (let handler of this._outsideListeners.values()) {\r\n      document.documentElement.removeEventListener(\"click\", handler);\r\n    }\r\n\r\n    this._outsideListeners.clear();\r\n  }\r\n\r\n  /**\r\n   * Writes root ExtendedClickOutside elements to snapshots list\r\n   * @method\r\n   * @returns {Array} snapshots\r\n   */\r\n  getCurrentSnapshots() {\r\n    let output = [];\r\n\r\n    for (let element of this._outsideListeners.keys()) {\r\n      const snapshot = element.outerHTML.match(/^(<.+?>)/is)[0];\r\n      output.push(snapshot);\r\n    }\r\n\r\n    return output;\r\n  }\r\n\r\n  /**\r\n   * Writes current ExtendedClickOutside listeners count\r\n   * @method\r\n   * @returns {number} count\r\n   */\r\n  getClickOutsidesCount() {\r\n    return this._outsideListeners.size;\r\n  }\r\n}"],"names":["initial","alreadyHasListener","invalidElement","invalidListener","missingElement","outsideDocument","isParentElement","element","target","currentTarget","parentNode","document","documentElement","blockByKeys","event","blockKeys","length","altKey","includes","ctrlKey","shiftKey","setListener","listener","capture","selfOnly","eventName","handler","addEventListener","setListenerOnce","removeEventListener","angularHandler","nativeElement","elementRef","jQueryHandler","reactHandler","current","vueHandler","$el","elementFromHandler","handlers","counter","ExtendedClickOutside","_clickName","ontouchstart","_outsideListeners","Map","init","config","once","useWarnings","console","warn","window","has","HTMLElement","frameworks","set","remove","get","delete","removeAllListeners","values","clear","getCurrentSnapshots","output","keys","snapshot","outerHTML","match","push","getClickOutsidesCount","size"],"mappings":"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"}