/*!
 * extended-click-outside v3.1.4
 * Author: Ridiger Daniil Dmitrievich <extendedmultiselect@yandex.ru>
 * Description: Advanced outside-click handler for modern web applications
 * License: MIT
 * Repository: https://github.com/danyaridiger/extended-click-outside.git
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ExtendedClickOutside=t()}(this,function(){"use strict";const e="extended-click-outside:",t=`${e} element already has extended click outside listener`,n=`${e} element must be a valid HTMLElement`,s=`${e} listener must be a function`,i=`${e} element has no click outside listener`,o=`${e} can not run outside a document`,r=(e,t)=>{let n=t.parentNode;for(;n;){if(n===e)return!0;if(n===document.documentElement||!n)return!1;n=n.parentNode}},c=(e,t)=>{switch(!0){case!t||!t.length:return!1;case e.altKey&&t.includes("alt"):case e.ctrlKey&&t.includes("ctrl"):case e.shiftKey&&t.includes("shift"):return!0;default:return!1}};return class{_clickName=document.ontouchstart?"touchstart":"click";_outsideListeners=new Map;init(e,i,u={}){let d;const l=u.blockKeys||[],a=u.capture||!1,m=u.passive||!1,h=u.once||!1,f=u.selfOnly||!1,p=u.useWarnings||!1;e&&"object"==typeof e?i&&"function"==typeof i?window&&document&&document.documentElement?this._outsideListeners.has(e)?p&&console.warn(t):e&&e instanceof HTMLElement?(d=h?((e,t,n,s,i,o,u,d)=>{const l=a=>{const m=a.target;m!==e&&(!i&&r(e,m)||c(a,o)||(t(a),document.documentElement.removeEventListener(u,l,{capture:n,passive:s}),d()))};return document.documentElement.addEventListener(u,l,{capture:n,passive:s}),l})(e,i,a,m,f,l,this._clickName,()=>this._outsideListeners.delete(e)):((e,t,n,s,i,o,u)=>{const d=n=>{const s=n.target;s!==e&&(!i&&r(e,s)||c(n,o)||t(n))};return document.documentElement.addEventListener(u,d,{capture:n,passive:s}),d})(e,i,a,m,f,l,this._clickName),this._outsideListeners.set(e,{handler:d,options:{capture:a,passive:m}})):p&&console.warn(n):p&&console.warn(o):p&&console.warn(s):p&&console.warn(n)}remove(e,t=!1){if(!this._outsideListeners.has(e))return void(t&&console.warn(i));const n=this._outsideListeners.get(e);document.documentElement.removeEventListener("click",n.handler,n.options),this._outsideListeners.delete(e)}removeAllListeners(){for(let e of this._outsideListeners.values())document.documentElement.removeEventListener("click",e.handler,e.options);this._outsideListeners.clear()}isListenerExisting(e){return this._outsideListeners.has(e)}getCurrentSnapshots(){let e=[];for(let t of this._outsideListeners.keys()){const n=t.outerHTML.match(/^(<.+?>)/is)[0];e.push(n)}return e}getListenersCount(){return this._outsideListeners.size}}});
//# sourceMappingURL=index.umd.js.map
